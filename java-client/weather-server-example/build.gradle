plugins {
    id 'java'
    id 'application'
}

dependencies {
    implementation project(':java-client-flight-dagger'),
            project(':java-client-barrage'),
            project(':Util'),
            project(':engine-table'),
            project(':extensions-barrage'),
            'com.intellij:forms_rt:7.0.3'

    implementation(project(':grpc-java')) {
        // way too many dependencies right now
        // but at least we can cut-off slf4j-simple
        exclude group: 'org.slf4j', module: 'slf4j-simple'
    }

    testImplementation(platform('org.junit:junit-bom:5.7.2'))
    testImplementation 'org.junit.jupiter:junit-jupiter'
    testImplementation 'org.assertj:assertj-core:3.21.0'

    implementation 'org.slf4j:slf4j-api:1.7.32'

    runtimeOnly project(':log-to-slf4j')
    runtimeOnly 'ch.qos.logback:logback-classic:1.2.10'
}

test {
    useJUnitPlatform()
}

startScripts.enabled = false
applicationDistribution.into('bin') {
    fileMode = 0755
}