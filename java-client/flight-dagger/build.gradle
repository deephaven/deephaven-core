plugins {
    id 'java-library'
}

description = 'The Deephaven client flight dagger library'

dependencies {
    api project(':java-client-flight')
    api project(':java-client-session-dagger')

    implementation 'com.google.dagger:dagger:2.31.1'
    annotationProcessor 'com.google.dagger:dagger-compiler:2.31.1'

    Classpaths.inheritSlf4j(project, 'slf4j-api', 'implementation')
    Classpaths.inheritSlf4j(project, 'slf4j-simple', 'testRuntimeOnly')

    // Unable to use newer junit here because of test-libs/junit-wall-4.11.jar
    /*
    testImplementation(platform('org.junit:junit-bom:5.7.2'))
    testImplementation 'org.junit.jupiter:junit-jupiter'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine'
    testRuntimeOnly 'org.junit.vintage:junit-vintage-engine'
    testImplementation 'junit:junit:4.13.2'
    */

    testImplementation 'org.assertj:assertj-core:3.19.0'

    testImplementation TestTools.projectDependency(project, 'grpc-api')
    testImplementation project(':log-to-slf4j')
}

test {
}

apply plugin: 'io.deephaven.java-publishing-conventions'
