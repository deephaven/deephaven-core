plugins {
    id 'com.bmuschko.docker-remote-api'
    id 'io.deephaven.project.register'
}

def buildWheel = Docker.buildPyWheel(project, 'buildWheel', 'deephaven/deephaven-legacy-wheel', "${project(':Integrations').projectDir}/python")
configurations {
    pythonWheel
    getByName(Dependency.DEFAULT_CONFIGURATION).extendsFrom(pythonWheel)
}
dependencies {
    pythonWheel project(path: ':deephaven-jpy', targetConfiguration: 'pythonWheel')
}

artifacts {
    pythonWheel buildWheel
}
