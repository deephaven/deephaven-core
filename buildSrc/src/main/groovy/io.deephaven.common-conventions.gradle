plugins {
    id 'base'
    id 'io.deephaven.lifecycle-conventions'
    id 'io.deephaven.repository-conventions'
}

group = 'io.deephaven'

def deephavenMajorVersion = project.property('deephavenMajorVersion').toString().trim()
def deephavenMinorVersion = project.property('deephavenMinorVersion').toString().trim()
def deephavenBaseQualifier = project.property('deephavenBaseQualifier').toString().trim()
def versionSeparator = deephavenBaseQualifier.isEmpty() ? "" : "-"
version = "${deephavenMajorVersion}.${deephavenMinorVersion}${versionSeparator}${deephavenBaseQualifier}"

if (!name.startsWith('deephaven-')) {
    base.archivesName.set "deephaven-${name}"
}
