plugins {
    id 'io.deephaven.project.register'
}

description = 'Deephaven Bill of Materials'

javaPlatform {
    allowDependencies()
}

dependencies {
    // List out all of the public Deephaven projects with their version
    constraints { constraint ->
        project.rootProject
            .subprojects
            .findAll {  p -> io.deephaven.project.ProjectType.isPublic(p) }
            .each { p ->
                // TODO(deephaven-core#2050): Annotate some public dependencies with "runtime" constraint
                constraint.api p
            }
    }

    // When downstream consumer inherit the Deephaven BOM, they will also inherit our 3rd party constraints BOM. They
    // can choose to exclude this if they prefer.
    api platform(project(':bom-third-party'))
}
