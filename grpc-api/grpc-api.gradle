plugins {
    id 'java'
}

configurations {
    compile.extendsFrom dhDb
    testCompile.extendsFrom dhDbTest
}

dependencies {
    compile project(':DB'),
            project(':Util'),
            project(':proto:proto-backplane-grpc'),
            project(':open-api-lang-tools'),
            project(':log-factory'),
            "com.google.flatbuffers:flatbuffers-java:1.12.0",
            'org.apache.arrow:arrow-vector:4.0.0',
            'io.deephaven.barrage:barrage-format:0.1.1'

    compile 'com.google.dagger:dagger:2.31.1'
    annotationProcessor 'com.google.dagger:dagger-compiler:2.31.1'

    //runtimeOnly project(':Plot')

    if ('true' == project.findProperty('extensions.classgraph.enabled')) {
        runtimeOnly project(':classgraph-extension')
    }
    if ('true' == project.findProperty('extensions.suanshu.enabled')) {
        runtimeOnly project(':suanshu-extension')
    }

    testCompile TestTools.projectDependency(project, 'DB'),
                TestTools.projectDependency(project, 'Util')

    runtimeOnly project(':Numerics'), project(':Integrations')

    testRuntimeOnly project(':log-to-slf4j')
    testRuntimeOnly 'org.slf4j:slf4j-simple:1.7.30'
}
